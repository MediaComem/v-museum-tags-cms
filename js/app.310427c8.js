(function(e){function t(t){for(var s,i,l=t[0],r=t[1],o=t[2],b=0,g=[];b<l.length;b++)i=l[b],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&g.push(c[i][0]),c[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);d&&d(t);while(g.length)g.shift()();return n.push.apply(n,o||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,l=1;l<a.length;l++){var r=a[l];0!==c[r]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},c={app:0},n=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/v-museum-tags-cms/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("7a23"),c=(a("caad"),a("2532"),{key:0}),n={class:"login",style:{padding:"5vh"}},i=Object(s["g"])("h2",null,"Login",-1),l=Object(s["g"])("br",null,null,-1),r=Object(s["g"])("br",null,null,-1),o={key:1,class:"loading"},d=Object(s["g"])("div",{class:"loader"},[Object(s["g"])("div",{class:"loader-wheel"}),Object(s["g"])("div",{class:"loader-text"})],-1),b=[d],g={key:2,style:{height:"100vh",widhth:"100vw"}},u={class:"container-fluid",style:{"margin-top":"3vh"}},p={class:"row justify-content-center",style:{height:"94vh"}},m={class:"col-10"},h={class:"table table-hover",style:{height:"94vh"}},f=Object(s["g"])("thead",null,[Object(s["g"])("tr",null,[Object(s["g"])("th",{scope:"col"},"User"),Object(s["g"])("th",{scope:"col"},"Daily Image"),Object(s["g"])("th",{scope:"col"},"Daily Tags"),Object(s["g"])("th",{scope:"col"},"Total Images"),Object(s["g"])("th",{scope:"col"},"Total Tags")])],-1),y=["onClick"],O={class:"modal fade",id:"exampleModalToggle","aria-hidden":"true","aria-labelledby":"exampleModalToggleLabel",tabindex:"-1"},j={class:"modal-dialog modal-fullscreen"},v={class:"modal-content"},_={class:"modal-header"},T={class:"modal-title",id:"exampleModalToggleLabel"},S=Object(s["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),P={class:"modal-body"},I={class:"col-2"},k=["src","onClick"],E={class:"col-2"},A={class:"col-3"},R={class:"col-4"},w={class:"col-1"},U=["onClick"],x=Object(s["g"])("hr",null,null,-1),M={class:"modal-footer"},D={class:"modal fade",id:"exampleModalToggle2","aria-hidden":"true","aria-labelledby":"exampleModalToggleLabel2",tabindex:"-1"},C={class:"modal-dialog modal-fullscreen"},V={class:"modal-content"},W={class:"modal-header"},L={class:"modal-title",id:"exampleModalToggleLabel2"},B=Object(s["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),N={class:"modal-body"},F={class:"row align-items-center"},H={class:"col-9"},z=["src"],q={class:"col-2"},Y={class:"col-1"},J={class:"modal-footer"},Z={key:3,style:{height:"100vh",widhth:"100vw"}},G={class:"container-fluid",style:{margin:"3vh"}},K={key:0,class:"row",style:{height:"94vh"}},Q={class:"col-7 background",style:{height:"94vh"}},X={key:0,style:{color:"white"}},$={key:1,style:{color:"white"}},ee=["src"],te={class:"col-5",style:{height:"94vh"}},ae=Object(s["g"])("div",{class:"row justify-content-start"},[Object(s["g"])("div",{class:"col-12"},[Object(s["g"])("h2",null,"Selected Tags")])],-1),se=Object(s["g"])("div",{style:{display:"block",height:"0.5vh"}},null,-1),ce={class:"row justify-content-center"},ne={class:"col-6"},ie=["disabled"],le={class:"col-6"},re=["disabled"],oe=Object(s["g"])("div",{style:{display:"block",height:"0.5vh"}},null,-1),de={class:"row justify-content-center"},be={class:"col-6"},ge=["disabled"],ue={class:"col-6"},pe=["disabled"],me=Object(s["g"])("div",{style:{display:"block",height:"0.5vh"}},null,-1),he={class:"row justify-content-center"},fe={class:"col-6"},ye=["disabled"],Oe={class:"col-6"},je=["disabled"],ve=Object(s["g"])("div",{style:{display:"block",height:"0.5vh"}},null,-1),_e={class:"row justify-content-center"},Te={class:"col-6"},Se=["disabled"],Pe={class:"col-6"},Ie=["disabled"],ke=Object(s["g"])("div",{style:{display:"block",height:"2%"}},null,-1),Ee=Object(s["g"])("hr",null,null,-1),Ae=Object(s["g"])("div",{style:{display:"block",height:"2%"}},null,-1),Re={class:"row"},we={class:" col-5 card",style:{padding:"0","margin-left":"12px","margin-right":"5%",height:"50%"}},Ue=Object(s["g"])("div",{class:"card-header"}," Categories ",-1),xe={class:"list-group list-group-flush"},Me=["onClick"],De={class:" col-5 card",style:{padding:"0",height:"50vh",overflow:"scroll"}},Ce=Object(s["g"])("div",{class:"card-header"}," Tags ",-1),Ve={class:"list-group list-group-flush"},We=["onClick"],Le=Object(s["g"])("div",{style:{display:"block",height:"2%"}},null,-1),Be=Object(s["g"])("hr",{style:{margin:"0"}},null,-1),Ne=Object(s["g"])("div",{style:{display:"block",height:"2%"}},null,-1),Fe={class:"row"},He={class:"col-5"},ze=["disabled"],qe=Object(s["g"])("div",{class:"col-1"},null,-1),Ye={class:"col-5"},Je=["disabled"],Ze=Object(s["h"])(" Save and next ");function Ge(e,t,a,d,Ge,Ke){var Qe=this,Xe=Object(s["o"])("font-awesome-icon");return Object(s["m"])(),Object(s["f"])(s["a"],null,[Ge.isAuth?Object(s["e"])("",!0):(Object(s["m"])(),Object(s["f"])("div",c,[Object(s["g"])("form",n,[Object(s["g"])("div",null,[i,Object(s["s"])(Object(s["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return Ge.user=e}),placeholder:"user"},null,512),[[s["q"],Ge.user]]),l,Object(s["s"])(Object(s["g"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=function(e){return Ge.password=e}),placeholder:"Password"},null,512),[[s["q"],Ge.password]]),r,Object(s["g"])("button",{onClick:t[2]||(t[2]=function(){return Ke.onSubmit&&Ke.onSubmit.apply(Ke,arguments)})},"Log in")])])])),Ge.isAuth&&Ge.isLoad?(Object(s["m"])(),Object(s["f"])("div",o,b)):Object(s["e"])("",!0),Ge.isAuth&&!Ge.isLoad&&Ge.isAdmin?(Object(s["m"])(),Object(s["f"])("div",g,[Object(s["g"])("div",u,[Object(s["g"])("div",p,[Object(s["g"])("div",m,[Object(s["g"])("table",h,[f,(Object(s["m"])(!0),Object(s["f"])(s["a"],null,Object(s["n"])(Ge.adminInformation,(function(e,t){return Object(s["m"])(),Object(s["f"])("tbody",{key:t,style:{"vertical-align":"middle"}},[Object(s["g"])("tr",{onClick:function(t){return Ke.loadUserImage(e.user)}},[Object(s["g"])("th",null,Object(s["p"])(e.user),1),Object(s["g"])("th",null,Object(s["p"])(e.todayImage),1),Object(s["g"])("th",null,Object(s["p"])(e.todayTags),1),Object(s["g"])("th",null,Object(s["p"])(e.totalImage),1),Object(s["g"])("th",null,Object(s["p"])(e.totalTags),1)],8,y)])})),128))])])])]),Object(s["g"])("div",O,[Object(s["g"])("div",j,[Object(s["g"])("div",v,[Object(s["g"])("div",_,[Object(s["g"])("h5",T,Object(s["p"])(Ge.modalUser),1),S]),Object(s["g"])("div",P,[(Object(s["m"])(!0),Object(s["f"])(s["a"],null,Object(s["n"])(Ge.modalImages,(function(e,t){return Object(s["m"])(),Object(s["f"])("div",{class:"row align-items-center",style:{height:"25vh"},key:t},[Object(s["g"])("div",I,[Object(s["g"])("img",{style:{height:"25vh",cursor:"pointer"},src:e.thumbnail.large,onClick:function(t){return Ke.loadBigImage(e)}},null,8,k)]),Object(s["g"])("div",E,[Object(s["g"])("p",null,Object(s["p"])(e.id),1)]),Object(s["g"])("div",A,[Object(s["g"])("p",null,Object(s["p"])(e.state),1)]),Object(s["g"])("div",R,[Object(s["g"])("ul",null,[(Object(s["m"])(!0),Object(s["f"])(s["a"],null,Object(s["n"])(e.tags,(function(e,t){return Object(s["m"])(),Object(s["f"])("li",{key:t},Object(s["p"])(e["@value"]),1)})),128))])]),Object(s["g"])("div",w,[Object(s["g"])("button",{type:"button",class:"btn btn-danger",onClick:function(t){return Ke.resetTags(e.id,1)}}," Reset ",8,U)]),x])})),128))]),Object(s["g"])("div",M,[Object(s["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=function(e){return Ke.closeUserImage()})}," Close ")])])])]),Object(s["g"])("div",D,[Object(s["g"])("div",C,[Object(s["g"])("div",V,[Object(s["g"])("div",W,[Object(s["g"])("h5",L,Object(s["p"])(Ge.modalUser),1),B]),Object(s["g"])("div",N,[Object(s["g"])("div",F,[Object(s["g"])("div",H,[Object(s["g"])("img",{style:{height:"80vh"},src:Ge.bigModalImage},null,8,z)]),Object(s["g"])("div",q,[Object(s["g"])("ul",null,[(Object(s["m"])(!0),Object(s["f"])(s["a"],null,Object(s["n"])(Ge.bigModalTags,(function(e,t){return Object(s["m"])(),Object(s["f"])("li",{key:t},Object(s["p"])(e["@value"]),1)})),128))])]),Object(s["g"])("div",Y,[Object(s["g"])("button",{type:"button",class:"btn btn-danger",onClick:t[4]||(t[4]=function(e){return Ke.resetTags(Ge.bigModalId,2)})}," Reset ")])])]),Object(s["g"])("div",J,[Object(s["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[5]||(t[5]=function(e){return Ke.closeBigModal()})}," Close ")])])])])])):Object(s["e"])("",!0),!Ge.isAuth||Ge.isLoad||Ge.isAdmin?Object(s["e"])("",!0):(Object(s["m"])(),Object(s["f"])("div",Z,[Object(s["g"])("div",G,[Ge.isAuth?(Object(s["m"])(),Object(s["f"])("div",K,[Object(s["g"])("div",Q,[Ge.images?(Object(s["m"])(),Object(s["f"])("p",X," ID: "+Object(s["p"])(Ge.images[0].id)+" - Nb Images: "+Object(s["p"])(Ge.todayImages)+" - Nb Tags: "+Object(s["p"])(Ge.todayTags),1)):Object(s["e"])("",!0),Ge.images?Object(s["e"])("",!0):(Object(s["m"])(),Object(s["f"])("p",$," Nb Images: "+Object(s["p"])(Ge.todayImages)+" - Nb Tags: "+Object(s["p"])(Ge.todayTags),1)),Ge.images?(Object(s["m"])(),Object(s["f"])("img",{key:2,src:Ge.images[0].image.large,class:"img-fluid",style:{height:"92vh"}},null,8,ee)):Object(s["e"])("",!0)]),Object(s["g"])("div",te,[ae,se,Object(s["g"])("div",ce,[Object(s["g"])("div",ne,[Object(s["g"])("button",{type:"button",class:Object(s["l"])(["btn button-border button-display button-size",{"btn-dark":Ge.selectedTags.length>0,"btn-light":Ge.selectedTags.length<=0}]),disabled:Ge.selectedTags.length<=0,onClick:t[6]||(t[6]=function(e){return Ke.removeEntry(0)})},[Ge.selectedTags.length>0?(Object(s["m"])(),Object(s["d"])(Xe,{key:0,icon:"times",class:"button-display"})):Object(s["e"])("",!0),Object(s["h"])(" "+Object(s["p"])(Ge.selectedTags.length>0?Ge.selectedTags[0]:"Null"),1)],10,ie)]),Object(s["g"])("div",le,[Object(s["g"])("button",{type:"button",class:Object(s["l"])(["btn button-border button-display button-size",{"btn-dark":Ge.selectedTags.length>1,"btn-light":Ge.selectedTags.length<=1}]),disabled:Ge.selectedTags.length<=1,onClick:t[7]||(t[7]=function(e){return Ke.removeEntry(1)})},[Ge.selectedTags.length>1?(Object(s["m"])(),Object(s["d"])(Xe,{key:0,icon:"times",class:"button-display"})):Object(s["e"])("",!0),Object(s["h"])(" "+Object(s["p"])(Ge.selectedTags.length>1?Ge.selectedTags[1]:"Null"),1)],10,re)])]),oe,Object(s["g"])("div",de,[Object(s["g"])("div",be,[Object(s["g"])("button",{type:"button",class:Object(s["l"])(["btn button-border button-display button-size",{"btn-dark":Ge.selectedTags.length>2,"btn-light":Ge.selectedTags.length<=2}]),disabled:Ge.selectedTags.length<=2,onClick:t[8]||(t[8]=function(e){return Ke.removeEntry(2)})},[Ge.selectedTags.length>2?(Object(s["m"])(),Object(s["d"])(Xe,{key:0,icon:"times",class:"button-display"})):Object(s["e"])("",!0),Object(s["h"])(" "+Object(s["p"])(Ge.selectedTags.length>2?Ge.selectedTags[2]:"Null"),1)],10,ge)]),Object(s["g"])("div",ue,[Object(s["g"])("button",{type:"button",class:Object(s["l"])(["btn button-border button-display button-size",{"btn-dark":Ge.selectedTags.length>3,"btn-light":Ge.selectedTags.length<=3}]),disabled:Ge.selectedTags.length<=3,onClick:t[9]||(t[9]=function(e){return Ke.removeEntry(3)})},[Ge.selectedTags.length>3?(Object(s["m"])(),Object(s["d"])(Xe,{key:0,icon:"times",class:"button-display"})):Object(s["e"])("",!0),Object(s["h"])(" "+Object(s["p"])(Ge.selectedTags.length>3?Ge.selectedTags[3]:"Null"),1)],10,pe)])]),me,Object(s["g"])("div",he,[Object(s["g"])("div",fe,[Object(s["g"])("button",{type:"button",class:Object(s["l"])(["btn button-border button-display button-size",{"btn-dark":Ge.selectedTags.length>4,"btn-light":Ge.selectedTags.length<=4}]),disabled:Ge.selectedTags.length<=4,onClick:t[10]||(t[10]=function(e){return Ke.removeEntry(4)})},[Ge.selectedTags.length>4?(Object(s["m"])(),Object(s["d"])(Xe,{key:0,icon:"times",class:"button-display"})):Object(s["e"])("",!0),Object(s["h"])(" "+Object(s["p"])(Ge.selectedTags.length>4?Ge.selectedTags[4]:"Null"),1)],10,ye)]),Object(s["g"])("div",Oe,[Object(s["g"])("button",{type:"button",class:Object(s["l"])(["btn button-border button-display button-size",{"btn-dark":Ge.selectedTags.length>5,"btn-light":Ge.selectedTags.length<=5}]),disabled:Ge.selectedTags.length<=5,onClick:t[11]||(t[11]=function(e){return Ke.removeEntry(5)})},[Ge.selectedTags.length>5?(Object(s["m"])(),Object(s["d"])(Xe,{key:0,icon:"times",class:"button-display"})):Object(s["e"])("",!0),Object(s["h"])(" "+Object(s["p"])(Ge.selectedTags.length>5?Ge.selectedTags[5]:"Null"),1)],10,je)])]),ve,Object(s["g"])("div",_e,[Object(s["g"])("div",Te,[Object(s["g"])("button",{type:"button",class:Object(s["l"])(["btn button-border button-display button-size",{"btn-dark":Ge.selectedTags.length>6,"btn-light":Ge.selectedTags.length<=6}]),disabled:Ge.selectedTags.length<=6,onClick:t[12]||(t[12]=function(e){return Ke.removeEntry(6)})},[Ge.selectedTags.length>6?(Object(s["m"])(),Object(s["d"])(Xe,{key:0,icon:"times",class:"button-display"})):Object(s["e"])("",!0),Object(s["h"])(" "+Object(s["p"])(Ge.selectedTags.length>6?Ge.selectedTags[6]:"Null"),1)],10,Se)]),Object(s["g"])("div",Pe,[Object(s["g"])("button",{type:"button",class:Object(s["l"])(["btn button-border button-display button-size",{"btn-dark":Ge.selectedTags.length>7,"btn-light":Ge.selectedTags.length<=7}]),disabled:Ge.selectedTags.length<=7,onClick:t[13]||(t[13]=function(e){return Ke.removeEntry(7)})},[Ge.selectedTags.length>7?(Object(s["m"])(),Object(s["d"])(Xe,{key:0,icon:"times",class:"button-display"})):Object(s["e"])("",!0),Object(s["h"])(" "+Object(s["p"])(Ge.selectedTags.length>7?Ge.selectedTags[7]:"Null"),1)],10,Ie)])]),ke,Ee,Ae,Object(s["g"])("div",Re,[Object(s["g"])("div",we,[Ue,Object(s["g"])("ul",xe,[(Object(s["m"])(!0),Object(s["f"])(s["a"],null,Object(s["n"])(Ge.tags,(function(e,t){return Object(s["m"])(),Object(s["f"])("li",{key:t,class:Object(s["l"])(["list-group-item",{selected:Ge.selectedCategory===e.category}]),onClick:function(t){return Ke.selectCategory(e.category)}},Object(s["p"])(e.category),11,Me)})),128))])]),Object(s["g"])("div",De,[Ce,Object(s["g"])("ul",Ve,[(Object(s["m"])(!0),Object(s["f"])(s["a"],null,Object(s["n"])(Ge.displayTags,(function(e,t){return Object(s["m"])(),Object(s["f"])("li",{class:Object(s["l"])(["list-group-item",{selected:Qe.selectedTags.includes(e),"block-tags":Ge.selectedTags.length>=Ge.MaxNBTags&&!Qe.selectedTags.includes(e)}]),key:t,onClick:function(t){return Ke.selectTag(e)}},Object(s["p"])(e),11,We)})),128))])])]),Le,Be,Ne,Object(s["g"])("div",Fe,[Object(s["g"])("div",He,[Object(s["g"])("button",{type:"button",class:Object(s["l"])([{"btn-primary":Ge.selectedTags.length<Ge.MinNBTags,"btn-secondary":Ge.selectedTags.length>=Ge.MinNBTags},"btn btn-margin button-border final-button-size"]),style:{width:"10vw"},onClick:t[14]||(t[14]=function(){return Ke.skipTags&&Ke.skipTags.apply(Ke,arguments)}),disabled:Ge.selectedTags.length>=Ge.MinNBTags}," Skip if not taggable ",10,ze)]),qe,Object(s["g"])("div",Ye,[Object(s["g"])("button",{type:"button",disabled:Ge.selectedTags.length<Ge.MinNBTags,class:Object(s["l"])([{"btn-secondary":Ge.selectedTags.length<Ge.MinNBTags,"btn-success":Ge.selectedTags.length>=Ge.MinNBTags},"btn btn-margin button-border final-button-size"]),style:{width:"10vw"},onClick:t[15]||(t[15]=function(){return Ke.saveTags&&Ke.saveTags.apply(Ke,arguments)})},[Ze,Object(s["i"])(Xe,{icon:"check",class:"final-button-size"})],10,Je)])])])])):Object(s["e"])("",!0)])]))],64)}a("fb6a"),a("4de4"),a("c740"),a("a434"),a("159b"),a("ab8b"),a("3e48");var Ke=a("6c27"),Qe=a("f507"),Xe=a("e6f5"),$e=a("1da1"),et=(a("96cf"),a("bc3a")),tt=a.n(et),at=function(e){return e["o:id"]},st=function(e){return e["thumbnail_display_urls"]},ct=function(e){var t=[];return e.forEach((function(e){t.push({image:st(e),id:at(e),element:e})})),t},nt=function(e){var t=e.length,a=0;return e.forEach((function(e){"Save"===e["dcterms:rights"][0]["@value"]&&(a+=e["dcterms:coverage"].length)})),{nbImage:t,nbTags:a}},it={getImageByID:function(e){return Object($e["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt.a.get("https://v-museum.heig-vd.ch/api/items/"+e);case 2:return a=t.sent,s=a.data,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)})))()},getImages:function(e,t){return Object($e["a"])(regeneratorRuntime.mark((function a(){var s,c,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={params:{per_page:1,"property[0][joiner]":"and","property[0][property]":15,"property[0][type]":"nex","property[1][joiner]":"and","property[1][property]":6,"property[1][type]":"eq","property[1][text]":e}},t&&(s.params["property[2][joiner]"]="and",s.params["property[2][property]"]="10",s.params["property[2][type]"]="neq",s.params["property[2][text]"]=t),a.next=4,tt.a.get("https://v-museum.heig-vd.ch/api/items?",s);case 4:return c=a.sent,n=c.data,a.abrupt("return",ct(n));case 7:case"end":return a.stop()}}),a)})))()},getSkipImage:function(e,t){return Object($e["a"])(regeneratorRuntime.mark((function a(){var s,c,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s={params:{per_page:1,"property[0][joiner]":"and","property[0][property]":15,"property[0][type]":"eq","property[0][text]":"Skip","property[1][joiner]":"and","property[1][property]":6,"property[1][type]":"eq","property[1][text]":e}},t&&(s.params["property[2][joiner]"]="and",s.params["property[2][property]"]="10",s.params["property[2][type]"]="neq",s.params["property[2][text]"]=t),a.next=4,tt.a.get("https://v-museum.heig-vd.ch/api/items?",s);case 4:return c=a.sent,n=c.data,a.abrupt("return",ct(n));case 7:case"end":return a.stop()}}),a)})))()},saveItem:function(e){return Object($e["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",tt.a.put("https://v-museum.heig-vd.ch/api/items/"+e["o:id"],e,{params:{key_identity:"AM6I4aZMbDeoJRiNuHyPFzPeLQ2xdUcN",key_credential:"Zuj2L3Z7jdpTlkaE8MHWA5sIsqSPfh5L"}}));case 1:case"end":return t.stop()}}),t)})))()},getTodayImagessByUser:function(e){return Object($e["a"])(regeneratorRuntime.mark((function t(){var a,s,c,n,i,l,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new Date,s=a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear(),c=[],n=1;case 4:if(!(n<=3)){t.next=14;break}return i={params:{per_page:1e3,"property[0][joiner]":"and","property[0][property]":15,"property[0][type]":"ex","property[1][joiner]":"and","property[1][property]":6,"property[1][type]":"eq","property[1][text]":e,"property[2][joiner]":"and","property[2][property]":46,"property[2][type]":"eq","property[2][text]":s,page:n}},t.next=8,tt.a.get("https://v-museum.heig-vd.ch/api/items?",i);case 8:l=t.sent,r=l.data,c.push(nt(r));case 11:n++,t.next=4;break;case 14:return o={nbImage:0,nbTags:0},c.forEach((function(e){o.nbImage=o.nbImage+e.nbImage,o.nbTags=o.nbTags+e.nbTags})),t.abrupt("return",o);case 17:case"end":return t.stop()}}),t)})))()},getImagessByUser:function(e){return Object($e["a"])(regeneratorRuntime.mark((function t(){var a,s,c,n,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=[],s=1;case 2:if(!(s<=3)){t.next=12;break}return c={params:{per_page:1e3,"property[0][joiner]":"and","property[0][property]":15,"property[0][type]":"ex","property[1][joiner]":"and","property[1][property]":6,"property[1][type]":"eq","property[1][text]":e,page:s}},t.next=6,tt.a.get("https://v-museum.heig-vd.ch/api/items?",c);case 6:n=t.sent,i=n.data,a.push(nt(i));case 9:s++,t.next=2;break;case 12:return l={nbImage:0,nbTags:0},a.forEach((function(e){l.nbImage=l.nbImage+e.nbImage,l.nbTags=l.nbTags+e.nbTags})),t.abrupt("return",l);case 15:case"end":return t.stop()}}),t)})))()},getImagesForModal:function(e){return Object($e["a"])(regeneratorRuntime.mark((function t(){var a,s,c,n,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=[],s=1;case 2:if(!(s<=3)){t.next=12;break}return c={params:{per_page:1e3,"property[0][joiner]":"and","property[0][property]":15,"property[0][type]":"ex","property[1][joiner]":"and","property[1][property]":6,"property[1][type]":"eq","property[1][text]":e,page:s}},t.next=6,tt.a.get("https://v-museum.heig-vd.ch/api/items?",c);case 6:n=t.sent,i=n.data,a.push(i);case 9:s++,t.next=2;break;case 12:return l=[],a.forEach((function(e){e.forEach((function(e){l.push({id:at(e),thumbnail:st(e),state:e["dcterms:rights"][0]["@value"],tags:e["dcterms:coverage"]})}))})),t.abrupt("return",l);case 15:case"end":return t.stop()}}),t)})))()}},lt={name:"App",data:function(){return{MinNBTags:3,MaxNBTags:8,tags:Xe,images:void 0,todayImages:0,todayTags:0,adminInformation:[],selectedTags:[],skipId:[],password:"",isAuth:!1,isAdmin:!1,selectedCategory:"",displayTags:[],isLoad:!1,user:"",nextImage:void 0,isInitial:!0,modalUser:"",modalImages:void 0,bigModalTags:void 0,bigModalImage:void 0,bigModalId:void 0,secondModal:void 0}},methods:{loadPassword:function(e){if("admin"===e)return this.isAdmin=!0,"66b16d8e36423928a56f777d6e7bedcc290ff8ed47c2e4a1b8276ba596dc520d";if("vmuseum"===e.slice(0,7)){var t=e.slice(7,9);return Object({VUE_APP_FETCH_BASE:"https://v-museum.heig-vd.ch/api/items?",VUE_APP_DIRECT_REQUEST:"https://v-museum.heig-vd.ch/api/items/",VUE_APP_KEY_IDENTITY:"AM6I4aZMbDeoJRiNuHyPFzPeLQ2xdUcN",VUE_APP_KEY_CREDENTIAL:"Zuj2L3Z7jdpTlkaE8MHWA5sIsqSPfh5L",VUE_APP_PASSWORD:"f07395f7290040c827b6a1521aec24f5c496877de8407ea75bd6b75b845ac88d",VUE_APP_USER_PASSWORD_1:"496c66fee2c1fed3ebb640c6e7fdb7e63da95ec37555a260e2e99bfe295a405e",VUE_APP_USER_PASSWORD_2:"f843d5b1d2d09bccb2311bdcfdcba43c3a7ea9f072cb31113d73f89e314eaf83",VUE_APP_USER_PASSWORD_3:"34e35325ce4a1d8eb2901517fcca21e9d414692c3e793ace93d9bb26f862b98f",VUE_APP_USER_PASSWORD_4:"d3c44da9123890067721b3c1b53acde763db5ed4280a8956b209e2777ba2f0f2",VUE_APP_USER_PASSWORD_5:"a39e27f51ed42101659402ce7b6528797e095eefa2dcf473659aa123183ced9d",VUE_APP_USER_PASSWORD_6:"7949400d1ac3ac7bdcf2aaae7fc9479ad1846ec7d5040cd8b52400ef65324ea1",VUE_APP_USER_PASSWORD_7:"14f2962d96c24227d7b95f0e8aca399aaf36910e297cc03d061499fcf2d1a65b",VUE_APP_USER_PASSWORD_8:"70fde0da6c487155a6ff9e68a96f1a4291be693a91426abe16cdbf4ccf08584b",VUE_APP_USER_PASSWORD_9:"26ece3d9f2910df054a204f9e8c6d81f62c0407b03396c05c1abe37e537ad097",VUE_APP_USER_PASSWORD_10:"844fcf2bec65326681aa550e41b4b3610b3ac1a6ecd600427be54f947bc22088",VUE_APP_USER_PASSWORD_11:"2017c082c87914f74fb5118d1c91e599afffc8e410012e3e2ad96ce4c92a2900",VUE_APP_USER_PASSWORD_12:"aa8ea9bdeb57598d3eeba3e305a77ccf558c0241a712fdc07259164b54a6f5fd",VUE_APP_USER_PASSWORD_13:"224f35c9013a4c5fddbaa2e1f822f7b9fa583ef595bafca8b70e48fc690c8e47",VUE_APP_USER_PASSWORD_14:"2be8f8baecf5c424d61b500b0fa0dae340ded86614e07687a7d4486e3e643dee",VUE_APP_USER_PASSWORD_15:"0102156824df594b3e74ea653c7c099fa00c356c38f6d95cd21fd4c27f66e23e",VUE_APP_USER_PASSWORD_16:"ab19191c08dd5f28891059ce908a439afc20c0793fbc31880bd78268cf6e4fb1",VUE_APP_USER_PASSWORD_17:"5d284edf7a0a6190ac2664ed76a8bef50975478c4a01cf659af1d4cfd532df66",VUE_APP_USER_PASSWORD_18:"f37d34da64f620e5854395c629a8d081a85a9f0f4d669d3e3b5bafa9fb48afae",VUE_APP_USER_PASSWORD_19:"0bf55c559bad84c36116682187f8af49c871c155ccc99eae2dadfd71841c30b5",VUE_APP_USER_PASSWORD_20:"881f10d32abb1983ff422581d80aa74bede98d1935e6531b42d00d7c350677b8",VUE_APP_USER_PASSWORD_21:"d7b99302cba844d895bea5665f58d93b3ff31e8a2cf9f70d6a148e8c53ff078d",VUE_APP_USER_PASSWORD_22:"1fedaa7042e3906c434d36cdc3bca38c5ece3cf102276190580d20d58be53fee",VUE_APP_USER_PASSWORD_23:"47a63716f9451051d9583889d74e513c65332b4931f0ddfa1e73b7f67836d0e5",VUE_APP_USER_PASSWORD_24:"d08c316152a3218379ac783c4a0c778806b04c8b39b24c9d0ee838574de2aee1",VUE_APP_USER_PASSWORD_25:"8c7fe2289a7bb68ef1c7b2ae005c5b700b5c3ebeec8828b82e85385a45f07f78",VUE_APP_USER_PASSWORD_26:"9c2e7bbf0b53850d31a1d464afdbcb01cc3300b6ffe2b32b875b7b74609efd98",VUE_APP_USER_PASSWORD_27:"0e6dcecc890bc4641cceb586b0e6573f406fc53ed3aaeb50d9ef088a0fab6d5d",VUE_APP_USER_PASSWORD_28:"c72f2c3476ce6a2544332a7e527a2cb460c2f85933a54d65cde1bfb7644d29b4",VUE_APP_USER_PASSWORD_29:"4f91052192a9eb321b43642b47d8361641fdd8575cc263bcdba2ca98e42d6c94",VUE_APP_USER_PASSWORD_30:"acc13ba313cb77af5be235b639f3cfe88aa72940e6bcac83bd7a782a663da87c",VUE_APP_ADMIN_PASSWORD:"66b16d8e36423928a56f777d6e7bedcc290ff8ed47c2e4a1b8276ba596dc520d",NODE_ENV:"production",BASE_URL:"/v-museum-tags-cms/"})["VUE_APP_USER_PASSWORD_"+t]}},onSubmit:function(){var e=this;Object(Ke["sha256"])(this.password)===this.loadPassword(this.user)?(this.password="",this.isAuth=!0,this.isLoad=!0,this.isAdmin?(this.loadAdminInformation(),setInterval((function(){return e.loadAdminInformation()}),12e4)):(this.loadData(),this.loadImagePerDay())):this.isAdmin=!1},selectCategory:function(e){this.selectedCategory=e,this.displayTags=this.tags.filter((function(t){return t.category===e}))[0].tags},selectTag:function(e){if(this.selectedTags.includes(e)){var t=this.selectedTags.findIndex((function(t){return t===e}));this.selectedTags.splice(t,1)}else this.selectedTags.length<=7&&this.selectedTags.push(e)},loadUserImage:function(e){var t=this,a=new Qe["Modal"](document.getElementById("exampleModalToggle"));this.modalUser=e,it.getImagesForModal(e).then((function(e){t.modalImages=e})),a.show()},closeUserImage:function(){this.modalImages=void 0},loadBigImage:function(e){this.secondModal=new Qe["Modal"](document.getElementById("exampleModalToggle2")),this.bigModalImage=e.thumbnail.large,this.bigModalTags=e.tags,this.bigModalId=e.id,this.secondModal.show()},closeBigModal:function(){this.bigModalImage=void 0,this.bigModalTags=void 0,this.bigModalId=void 0,this.secondModal=void 0},resetTags:function(e,t){var a=this;confirm("Are you sure you want to reset this image?")&&it.getImageByID(e).then((function(s){s["dcterms:coverage"]=[],s["dcterms:rights"]=[],s["dcterms:rightsHolder"]=[],s["dcterms:educationLevel"]=[],it.saveItem(s).then((function(){var s=a.modalImages.findIndex((function(t){return t.id===e}));a.modalImages.splice(s,1),2===t&&(a.secondModal.hide(),a.closeBigModal())}))}))},loadAdminInformation:function(){var e=this,t=["vmuseum1","vmuseum2","vmuseum3","vmuseum4","vmuseum5","vmuseum6","vmuseum7","vmuseum8","vmuseum9","vmuseum10","vmuseum11","vmuseum12","vmuseum13","vmuseum14","vmuseum15","vmuseum16","vmuseum17","vmuseum18","vmuseum19","vmuseum20","vmuseum21","vmuseum22","vmuseum23","vmuseum24","vmuseum25","vmuseum26","vmuseum27","vmuseum28","vmuseum29","vmuseum30"];t.forEach((function(a,s){e.adminInformation.length!==t.length&&e.adminInformation.push({user:a,todayImage:0,todayTags:0,totalImage:0,totalTags:0}),it.getTodayImagessByUser(a).then((function(t){e.adminInformation[s].todayImage=t.nbImage,e.adminInformation[s].todayTags=t.nbTags,it.getImagessByUser(a).then((function(t){e.adminInformation[s].totalImage=t.nbImage,e.adminInformation[s].totalTags=t.nbTags}))}))})),this.isLoad=!1},loadImagePerDay:function(){var e=this;it.getTodayImagessByUser(this.user).then((function(t){e.todayImages=t.nbImage,e.todayTags=t.nbTags}))},loadData:function(){var e=this,t=void 0;this.images&&(t=this.images[0].element["dcterms:identifier"][0]["@value"]),it.getImages(this.user,t).then((function(a){0===a.length?it.getSkipImage(e.user,t).then((function(t){0===t.length?e.images?e.nextImage=void 0:e.images=void 0:e.isInitial?(e.selectedTags=[],e.images=t,e.isInitial=!1,e.loadData()):e.nextImage=t,e.isLoad=!1})):(e.isInitial?(e.selectedTags=[],a[0].element["dcterms:coverage"].forEach((function(t){e.selectedTags.push(t["@value"])})),e.images=a,e.isInitial=!1,e.loadData()):e.nextImage=a,e.isLoad=!1)}))},removeEntry:function(e){this.selectedTags.splice(e,1)},skipTags:function(){var e=this;this.images[0].element["dcterms:rights"]=[{type:"literal",property_id:15,property_label:"Rights",is_public:!0,"@value":"Skip"}];var t=this.images[0].element["dcterms:rightsHolder"];if(t){var a=+t[0]["@value"]+1;a>=2&&(this.images[0].element["dcterms:rights"]=[{type:"literal",property_id:15,property_label:"Rights",is_public:!0,"@value":"Flag"}])}else this.images[0].element["dcterms:rightsHolder"]=[{type:"literal",property_id:50,property_label:"Rights",is_public:!0,"@value":"1"}];var s=new Date;this.images[0].element["dcterms:educationLevel"]=[{type:"literal",property_id:46,property_label:"Audience Education Level",is_public:!0,"@value":"".concat(s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear())}],this.todayImages=this.todayImages+1,this.isLoad=!0,it.saveItem(this.images[0].element).then((function(){e.images=void 0,e.nextImage&&(e.images=e.nextImage,e.nextImage=void 0,e.isLoad=!1),e.selectedTags=[],e.loadData()}))},saveTags:function(){var e=this,t=[];this.selectedTags.forEach((function(e){t.push({type:"literal",property_id:14,property_label:"Coverage",is_public:!0,"@value":e})})),this.images[0].element["dcterms:coverage"]=t,this.images[0].element["dcterms:rights"]=[{type:"literal",property_id:15,property_label:"Rights",is_public:!0,"@value":"Save"}];var a=new Date;this.images[0].element["dcterms:educationLevel"]=[{type:"literal",property_id:46,property_label:"Audience Education Level",is_public:!0,"@value":"".concat(a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear())}],this.todayImages=this.todayImages+1,this.todayTags=this.todayTags+this.selectedTags.length,this.isLoad=!0,it.saveItem(this.images[0].element).then((function(){e.images=void 0,e.selectedTags=[],e.nextImage&&(e.images=e.nextImage,e.nextImage[0].element["dcterms:coverage"].forEach((function(t){e.selectedTags.push(t["@value"])})),e.nextImage=void 0,e.isLoad=!1),e.loadData()}))}}};a("fe4b");lt.render=Ge;var rt=lt,ot=a("ecee"),dt=a("c074"),bt=a("ad3d");ot["c"].add(dt["a"]),ot["c"].add(dt["b"]);var gt=Object(s["c"])(rt);gt.component("font-awesome-icon",bt["a"]),gt.mount("#app")},de9c:function(e,t,a){},e6f5:function(e){e.exports=JSON.parse('[{"category":"Being","tags":["Robot","Dinosaur","Insect","Reptile","Winged creature","Water creature","Land creature","Mythological creature","Creature with Tentacles","Ghost","Skeleton","Humanoid","Living dead","Mechanical creature","Religious figure","Evil figure","Child","Plant creature","Young Man","Young Woman","Old man","Old woman"]},{"category":"Actions","tags":["Fight with vehicles","Fight with creatures","Armies battle","Confrontation","Takeoff/Landing","Encounter","Experiment","Uncover","Defend","Compel","Swim","Spy","Communicate","Hug","Scream","Run/Flee","Climb","Shoot","Fly","Hide","Drive/pilot","Struggle","Threaten"]},{"category":"Weapons","tags":["Blade","Firearm","Raygun","Canon","Explosive","Machinegun","Axes","Sledgehammer","Stick","Magic weapon","Throwing weapon","Stabbing weapon","Electrical weapon","Mental weapon","Shield","Force field","Armour"]},{"category":"Accessories","tags":["Jewelery","Time keeper","Artwork","Food","Screen","Book/Paper","Flashlight","Gauge","Communication device","Scientific device","Electrical device","Music device","Medical device","Mechanical tool","Machinery","Religious artefact","Mask","Helmet"]},{"category":"Vehicles","tags":["Rocket","Spacecraft","Submarine","Vehicle with sails","Vehicle with tracks","Vehicles with propellers","Flying vehicle","Wheeled vehicle","Sliding vehicles","Vehicle with legs","Glidding vehicle","Autonomous vehicle","Tracked vehicle","Levitating vehicle","Hovercraft","Wreck"]},{"category":"Interiors","tags":["Control panel","Kitchen","Living room","Lab","Command room","Bedroom","Tunnel/Corridor","Cave","Hut","Workshop","Religious interior","Hall/Lobby","Classroom","Prison","Warehouse","Arena","Library","Desk","Cage"]},{"category":"Exterior","tags":["City","Village","Industrial zone","Fields","Bridge","Tower","River","Sea/Lake","Mountain","Desert","Crater","Forest","Stars","Wasteland","Ruins","Castle","Palace","Path/street","Rocks/cliffs","Sun","Moon","Comet"]},{"category":"Atmosphere","tags":["Black sky","Starry sky","White sky","Day-night transition","Clouds","Smoke","Rain","Snow","Ice","Wind","Gas","Fog","Poison","Fire","Explosion","Collision","Fall"]}]')},fe4b:function(e,t,a){"use strict";a("de9c")}});
//# sourceMappingURL=app.310427c8.js.map